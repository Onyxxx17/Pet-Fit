{% extends 'base.html' %}

{% block content %}
<div class="container" style="margin-top: 50px;">
    <div class="detail-wrapper">
        <div class="detail-image">
            <img src="{{ product.image }}" id="product-img" alt="{{ product.name }}" onerror="this.src='https://via.placeholder.com/500x500?text=No+Image'">
        </div>

        <div class="detail-info">
            <div class="info-header">
                <span class="detail-brand">{{ product.brand }}</span>
                <h1 class="detail-title" id="product-name">{{ product.name }}</h1>
                <p class="detail-price">
                    <span class="price-amount" data-usd="{{ product.price }}">${{ product.price }}</span>
                </p>
            </div>

            <div class="detail-desc">
                <p>{{ product.description }}</p>
                <p style="margin-top: 10px; color: #888; font-size: 13px;">
                    ðŸš€ Free Shipping | âœ… Guaranteed Next Day Delivery
                </p>
            </div>
            <div class="detail-desc" style="border-top: none; margin-top: -15px;">
                <p style="font-size: 13px; color: #555; margin-bottom: 8px;">Choose Size</p>
                <div class="size-picker" id="product-size-picker">
                    <button type="button" class="size-option" data-size="S">S</button>
                    <button type="button" class="size-option is-active" data-size="M">M</button>
                    <button type="button" class="size-option" data-size="L">L</button>
                </div>
                <span id="product-size" class="size-selected" data-input-id="cart-size">{{ product.size or 'M' }}</span>
            </div>

            <div class="btn-group">
                <form action="/cart/add" method="POST" class="cart-form">
                    <input type="hidden" name="product_id" value="{{ product.id }}">
                    <input type="hidden" name="size" id="cart-size" value="{{ product.size or 'M' }}">
                    <input type="hidden" name="qty" value="1">
                    <button type="submit" class="btn-cart">Add to Cart</button>
                </form>
                <button class="btn-buy" type="button" onclick="location.href='/cart'">Buy Now</button>
            </div>

            <div class="ai-section">
                <button id="ai-btn" class="btn-ai">
                    ðŸ¤– Try AI Virtual Fitting
                </button>
                <p class="ai-msg">ðŸ”® Try it on your dog with AI!</p>
            </div>
        </div>
    </div>
</div>
{% endblock %}
