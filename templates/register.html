{% extends 'base.html' %}

{% block content %}
<div class="form-container">
    <h2>Register</h2>
    <form action="/register" method="POST" enctype="multipart/form-data">
        
        <div class="form-section">
            <h3>Account Info</h3>
            <div class="input-group">
                <label class="input-label">Username</label>
                <input type="text" name="username" class="input-field" placeholder="Enter username" required>
            </div>
            <div class="input-group">
                <label class="input-label">Password</label>
                <input type="password" name="password" class="input-field" placeholder="Password (6+ chars)" required>
            </div>
        </div>

        <div class="form-section">
            <h3>My Pet Profile (For AI Fitting)</h3>
            <p class="form-desc">üê∂ Enter your pet's info for AI recommendations!</p>
            
            <div class="input-group">
                <label class="input-label">Pet Name</label>
                <input type="text" name="pet_name" class="input-field" placeholder="e.g. Fluffy">
            </div>
            
            <div style="display: flex; gap: 10px;">
                <div class="input-group" style="flex: 1;">
                    <label class="input-label">Breed</label>
                    <input type="text" name="pet_breed" class="input-field" placeholder="e.g. Bichon">
                </div>
                <div class="input-group" style="flex: 1;">
                    <label class="input-label">Size/Weight</label>
                    <input type="text" name="pet_size" class="input-field" placeholder="e.g. 3kg">
                </div>
            </div>

            <div class="input-group">
                <label class="input-label">Full Body Photo</label>
                <div class="file-upload-wrapper">
                    <input type="file" name="pet_image" id="file-upload" class="file-upload-input" accept="image/*" onchange="previewFile()">
                    <label for="file-upload" class="file-upload-label" id="file-label">
                        üì∏ Select Photo (Click)
                    </label>
                </div>
            </div>
        </div>

        <button type="submit" class="btn-black">Complete & Start AI</button>
    </form>
</div>

<script>
    function previewFile() {
        const fileInput = document.getElementById('file-upload');
        const fileLabel = document.getElementById('file-label');
        if(fileInput.files.length > 0) {
            fileLabel.innerText = "‚úÖ Selected: " + fileInput.files[0].name;
            fileLabel.style.borderColor = "#000";
            fileLabel.style.color = "#000";
            fileLabel.style.fontWeight = "bold";
        }
    }
</script>
{% endblock %}